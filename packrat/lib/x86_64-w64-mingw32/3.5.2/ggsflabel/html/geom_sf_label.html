<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Label and Text 'Geom's</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for geom_sf_label {ggsflabel}"><tr><td>geom_sf_label {ggsflabel}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Label and Text 'Geom's</h2>

<h3>Description</h3>

<p>Provides label and text <code>geom</code>s that automatically retrieve the sf object's coordinates.
</p>


<h3>Usage</h3>

<pre>
StatSfCoordinates

geom_sf_label(mapping = NULL, data = NULL,
  fun.geometry = sf::st_point_on_surface, ...)

geom_sf_text(mapping = NULL, data = NULL,
  fun.geometry = sf::st_point_on_surface, ...)

geom_sf_label_repel(mapping = NULL, data = NULL,
  fun.geometry = sf::st_point_on_surface, ...)

geom_sf_text_repel(mapping = NULL, data = NULL,
  fun.geometry = sf::st_point_on_surface, ...)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="../../ggplot2/html/aes.html">aes()</a></code> or
<code><a href="../../ggplot2/html/aes_.html">aes_()</a></code>. If specified and <code>inherit.aes = TRUE</code> (the
default), it is combined with the default mapping at the top level of the
plot. You must supply <code>mapping</code> if there is no plot mapping.</p>
</td></tr>
<tr valign="top"><td><code>data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="../../ggplot2/html/ggplot.html">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="../../ggplot2/html/fortify.html">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame.</code>, and
will be used as the layer data.</p>
</td></tr>
<tr valign="top"><td><code>fun.geometry</code></td>
<td>
<p>A function that takes a <code>sfc</code> object and returns a
<code>sfc_POINT</code> with the same length as the input (e.g. <a href="../../sf/html/st_point_on_surface.html">st_point_on_surface</a>).</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Other arguments passed to the underlying function.</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>StatSfCoordinates</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 4.</p>


<h3>Details</h3>

<p>These functions are thin wrappers of usual geoms like <code>geom_label()</code>, the only difference is that
they use <code>StatSfCoordinates</code> for <code>stat</code>. More precisely:
</p>

<ul>
<li> <p><code>geom_sf_label()</code> is the thin wrapper of <a href="../../ggplot2/html/geom_label.html">geom_label</a>.
</p>
</li>
<li> <p><code>geom_sf_text()</code> is the thin wrapper of <a href="../../ggplot2/html/geom_text.html">geom_text</a>.
</p>
</li>
<li> <p><code>geom_sf_label_repel()</code> is the thin wrapper of <a href="../../ggrepel/html/geom_label_repel.html">geom_label_repel</a>.
</p>
</li>
<li> <p><code>geom_sf_text_repel()</code> is the thin wrapper of <a href="../../ggrepel/html/geom_text_repel.html">geom_text_repel</a>.
</p>
</li></ul>



<h3>Computed variables</h3>

<p>Depending on the type of given sfc object, some variables between <code>X</code>, <code>Y</code>, <code>Z</code>
and <code>M</code> are available. Please read Esamples section how to use these.
</p>


<h3>Examples</h3>

<pre>
nc &lt;- sf::st_read(system.file("shape/nc.shp", package = "sf"), quiet = TRUE)
# st_point_on_surface may not give correct results for longitude/latitude data
nc_3857 &lt;- sf::st_transform(nc, 3857)

# geom_label() for sf
ggplot(nc_3857[1:3, ]) +
  geom_sf(aes(fill = AREA)) +
  geom_sf_label(aes(label = NAME))

# ggrepel::geom_label_repel() for sf
ggplot(nc_3857[1:3, ]) +
  geom_sf(aes(fill = AREA)) +
  geom_sf_label_repel(
    aes(label = NAME),
    # additional parameters are passed to geom_label_repel()
    nudge_x = -5, nudge_y = -5, seed = 10
  )

# Of course, you can use StatSfCoordinates with any geoms.
ggplot(nc_3857[1:3, ]) +
  geom_sf(aes(fill = AREA)) +
  geom_point(aes(geometry = geometry,stat(X), stat(Y)),
             stat = StatSfCoordinates,
             fun.geometry = sf::st_centroid,
             colour = "white", size = 10)
</pre>

<hr /><div style="text-align: center;">[Package <em>ggsflabel</em> version 0.0.1 <a href="00Index.html">Index</a>]</div>
</body></html>
